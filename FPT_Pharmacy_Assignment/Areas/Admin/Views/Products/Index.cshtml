@model IEnumerable<FPT_Pharmacy_Assignment.Areas.Admin.Models.Product>
@{
	ViewData["Title"] = "Product List";
}

<h1 class="text-center mb-4">Product List</h1>

<div class="container">
	<div class="row justify-content-center">
		<div class="col-lg-12">
			<a class="btn btn-primary mb-3" asp-action="Create">Add New Product</a>
			<div class="table-responsive">
				<table class="table table-bordered table-hover">
					<colgroup>
						<col style="width: 10%">
                        <col style="width: 20%">
                        <col style="width: 10%">
						<col style="width: 25%">
						<col style="width: 15%">
						<col style="width: 15%">
						<col style="width: 15%">
					</colgroup>
					<thead class="thead-dark">
						<tr>
							<th scope="col">Image</th>
                            <th scope="col">Name</th>
                            <th scope="col">Category</th>
							<th scope="col">Description</th>
							<th scope="col">Price</th>
							<th scope="col">Stock Level</th>
							<th scope="col">Action</th>
						</tr>
					</thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td class="align-middle">
                                    <img src="/uploads/products/@item.ImageFile" alt="Product Image" class="img-fluid rounded" style="max-width: 100px; max-height: 100px;" />
                                </td>
                                <td class="align-middle">@Html.DisplayFor(modelItem => item.Name)</td>
                                <td class="align-middle">
                                    @Html.DisplayFor(modelItem => item.Category.Name)
                                </td>
                                <td class="align-middle">
                                    @{
                                        var description = item.Description;
                                        if (description.Length > 250)
                                        {
                                            description = description.Substring(0, 250) + "...";
                                        }
                                    }
                                    @Html.DisplayFor(modelItem => description)
                                </td>
                                <td class="align-middle">@Html.DisplayFor(modelItem => item.Price)</td>
                                <td class="align-middle">@Html.DisplayFor(modelItem => item.StockLevel)</td>
                                <td class="align-middle">
                                    <div class="btn-group" role="group" aria-label="Product Actions">
                                        <a class="btn btn-sm btn-primary" asp-action="Details" asp-route-id="@item.ProductId"><i class="fa fa-info-circle" style="font-size:20px"></i></a>
                                        <a class="btn btn-sm btn-secondary" asp-action="Edit" asp-route-id="@item.ProductId">
                                            <i class="fa fa-edit" style="font-size:20px;"></i>
                                        </a>
                                        <a class="btn btn-sm btn-danger" asp-action="Delete" asp-route-id="@item.ProductId"><i class="fa fa-trash" style="font-size:20px"></i></a>
                                    </div>
                                </td>
                            </tr>
                        }
                    </tbody>
				</table>
			</div>
		</div>
	</div>
</div>
